import{_ as w,e as n,c as d,w as a,a2 as c,W as i,s as l,a3 as f,a5 as t,S as m,x as y,E as u,I as h,a6 as g}from"./vendor.js";import{U as b}from"./index.js";import V from"vue-cookies";import"moment";import"moment-timezone";const _={name:"JoinView",data(){return{entity:{},loading:!1,checkEmail:!1,showPassword:!1,showCPassword:!1,errors:{},itemEmpty:{name:"",email:"",password:"",c_password:""}}},methods:{setErrors(o={}){for(const s in this.itemEmpty)o[s]?this.errors[s]=o[s][0]:this.errors[s]=null},join(){this.$refs.form.validate()&&(this.loading=!0,V.get("VITE_AUTH"),b.Register(this.entity).then(o=>{o.response.data.user,this.checkEmail=!0,this.loading=!1}).catch(o=>{o.response&&o.response.data.errors&&this.setErrors(o.response.data.errors),this.loading=!1}))}},mounted(){this.setErrors()}},v={class:"row q-col-gutter-md"},k=i("div",{class:"col-xl-3 col-md-3 col-sm-12 col-xs-12"},null,-1),q={class:"col-xl-6 col-md-6 col-sm-12 col-xs-12"},x=i("div",{class:"text-h6 q-mb-md"},"Register",-1),P={class:"q-mt-md text-center"},C=i("br",null,null,-1);function E(o,s,F,U,e,p){return n(),d(c,{class:"q-pa-md"},{default:a(()=>[i("div",v,[k,i("div",q,[l(g,{class:"q-pa-md"},{default:a(()=>[e.checkEmail?(n(),y(h,{key:1},[u(" Your account has been registered! "),C,u(" We have sent you an email with instructions to verify your email address. ")],64)):(n(),d(f,{key:0,ref:"form",onSubmit:p.join},{default:a(()=>[x,l(t,{modelValue:e.entity.name,"onUpdate:modelValue":s[0]||(s[0]=r=>e.entity.name=r),label:"Full Name",error:!!e.errors.name,"error-message":e.errors.name,rules:[r=>!!r||"Field is required"],outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue","error","error-message","rules"]),l(t,{type:"email",modelValue:e.entity.email,"onUpdate:modelValue":s[1]||(s[1]=r=>e.entity.email=r),label:"Email",error:!!e.errors.email,"error-message":e.errors.email,rules:[r=>!!r||"Field is required"],outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue","error","error-message","rules"]),l(t,{modelValue:e.entity.password,"onUpdate:modelValue":s[2]||(s[2]=r=>e.entity.password=r),type:e.showPassword?"text":"password",append:e.showPassword?"visibility_off":"visibility","onClick:append":s[3]||(s[3]=r=>e.showPassword=!e.showPassword),label:"Password",error:!!e.errors.password,"error-message":e.errors.password,rules:[r=>!!r||"Field is required"],outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue","type","append","error","error-message","rules"]),l(t,{modelValue:e.entity.c_password,"onUpdate:modelValue":s[4]||(s[4]=r=>e.entity.c_password=r),type:e.showCPassword?"text":"password",append:e.showCPassword?"visibility_off":"visibility","onClick:append":s[5]||(s[5]=r=>e.showCPassword=!e.showCPassword),label:"Confirm Password",error:!!e.errors.c_password,"error-message":e.errors.c_password,rules:[r=>!!r||"Field is required"],outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue","type","append","error","error-message","rules"]),l(m,{block:"",class:"full-width",loading:e.loading,type:"submit",label:"Register",color:"primary"},null,8,["loading"]),i("div",P,[l(m,{label:"Login",class:"full-width",outline:"",color:"primary",onClick:s[6]||(s[6]=r=>o.$router.push({path:"login"}))})])]),_:1},8,["onSubmit"]))]),_:1})])])]),_:1})}const R=w(_,[["render",E],["__file","JoinView.vue"]]);export{R as default};
