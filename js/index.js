const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/EmptyLayout.js","js/vendor.js","css/vendor.css","js/MainLayout.js","js/SigninView.js","js/JoinView.js","js/AboutController.js","js/UserListController.js","js/UserReadController.js","js/ErrorNotFound.js","js/qcalendar.js","js/store.js","js/vuex-orm-axios.js"])))=>i.map(i=>d[i]);
var O=Object.defineProperty;var w=(s,e,t)=>e in s?O(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var n=(s,e,t)=>w(s,typeof e!="symbol"?e+"":e,t);import{M as I,_ as T,o as P,i as g,a as S,b as D,c as H,u as E,d as v,r as L,e as x,D as N,V as R,f as V,g as q,h as l,j as W,k as F,l as k,Q as B,m as M,n as j}from"./vendor.js";import"moment";import"moment-timezone";class $ extends I{static fields(){return{id:this.attr(null).nullable(),name:this.attr(""),label:this.attr(""),parent:this.attr(null),lineage:this.attr([])}}}n($,"entity","routeLineages");function d(s){return typeof s=="string"?s.replace(/^\//,""):""}function C(s){const e={};function t(r,a=""){const i=d(a+"/"+d(r.path));e[i]=r,r.children&&r.children.length>0&&r.children.forEach(c=>t(c,i))}return s.forEach(r=>t(r)),e}function z(s,e){var c,p,b;d(s.path);const t=[];let r=s;for(;r;){const o=r.name||"";if(t.includes(o))break;t.unshift(o);const u=((c=r.meta)==null?void 0:c.breadcrumbParentName)||null;if(!u)break;r=(u?e[d(u)]:null)||null}const i={label:((p=s.meta)==null?void 0:p.breadcrumbName)||"",name:s.name||"",parent:(b=s.meta)!=null&&b.breadcrumbParentName?d(s.meta.breadcrumbParentName):null,lineage:t};$.insert({data:i})}function U(s){console.log("Generating route lineages...");const e=C(s);Object.values(e).forEach(t=>{z(t,e)}),console.log("Route lineages generated.")}const K=Object.assign({name:"App"},{__name:"App",setup(s,{expose:e}){e(),P(()=>{E();const r=v();g.use(S,{axios:D,baseURL:"http://aiv-team-2.0.test/api"}),r&&r.options&&r.options.routes?U(r.options.routes):console.error("Router is not properly initialized or routes are not accessible.")});const t={onMounted:P,get useStore(){return E},get useRouter(){return v},get VuexORM(){return g},get VuexORMAxios(){return S},get axios(){return D},get generateRouteLineages(){return U}};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}});function Q(s,e,t,r,a,i){const c=L("router-view");return x(),H(c)}const G=T(K,[["render",Q],["__file","App.vue"]]);class A extends N{static mergeHeaders(e){const t={...e},r=R.get("VITE_AUTH");if(r!=null&&r.token){const a=new Date(r.expireDate);new Date<=a&&(t.Authorization=`Bearer ${r.token}`)}return t}}n(A,"baseUrl"),n(A,"adapator","laravel");class h extends A{static openRecord(e,t,r){r.push({name:"/lists/users/:rId/:rName",params:{rId:e,rName:e}})}static fields(){return{id:this.attr("").nullable(),old_id:this.attr("").nullable(),name:this.attr(""),created_at:this.attr("").nullable(),updated_at:this.attr("").nullable()}}static FetchAll(e=[],t={},r={},a={page:1,limit:15,filters:{},clearPrimaryModelOnly:!1}){return this.customSupabaseApiFetchAll(`${this.baseUrl}${this.entityUrl}`,[...this.parentWithables,...e],t,this.mergeHeaders(r),a,this)}static FetchById(e,t=[],r={},a={}){return this.customSupabaseApiFetchById(`${this.baseUrl}${this.entityUrl}`,e,[...this.parentWithables,...t],r,this.mergeHeaders(a),this)}static Store(e,t=[],r={},a={}){return this.customSupabaseApiStore(`${this.baseUrl}${this.entityUrl}`,e,[...this.parentWithables,...t],r,this.mergeHeaders(a),this)}static Update(e,t=[],r={},a={}){return this.customSupabaseApiUpdate(`${this.baseUrl}${this.entityUrl}`,e,[...this.parentWithables,...t],r,this.mergeHeaders(a),this)}static Delete(e,t={},r={}){return this.customSupabaseApiDelete(`${this.baseUrl}${this.entityUrl}`,e,t,this.mergeHeaders(r),this)}static Register(e,t=[],r={},a={}){return this.customSupabaseApiStore(`${this.baseUrl}/api/register`,e,[...this.parentWithables,...t],r,this.mergeHeaders(a),this)}}n(h,"entity","user"),n(h,"entityUrl","/api/users"),n(h,"primaryKey","id"),n(h,"entityHumanName","User"),n(h,"titleKey","name"),n(h,"parentWithables",[]),n(h,"rules",{readables:()=>!0,readable:e=>!0,editable:e=>{const t=R.get("VITE_AUTH");return e.id===(t==null?void 0:t.user.id)},creatable:()=>!1}),n(h,"fieldsMetadata",{id:{},old_id:{},name:{},created_at:{autoFill(e){return e.created_at?e.created_at:new Date().toISOString().slice(0,19).replace("T"," ")}},updated_at:{autoFill(e){return new Date().toISOString().slice(0,19).replace("T"," ")}}}),n(h,"templateListGrid",{}),n(h,"templateOverview",{});class m extends A{static fields(){return{user:this.attr({}),accessToken:this.attr(""),expireDate:this.attr("")}}static FetchAll(e=[],t={},r={},a={page:1,limit:15,filters:{},clearPrimaryModelOnly:!1}){return this.customSupabaseApiFetchAll(`${this.baseUrl}${this.entityUrl}`,[...this.parentWithables,...e],t,this.mergeHeaders(r),a,this)}static FetchById(e,t=[],r={},a={}){return this.customSupabaseApiFetchById(`${this.baseUrl}${this.entityUrl}`,e,[...this.parentWithables,...t],r,this.mergeHeaders(a),this)}static Store(e,t=[],r={},a={}){return this.customSupabaseApiStore(`${this.baseUrl}${this.entityUrl}`,e,[...this.parentWithables,...t],r,this.mergeHeaders(a),this)}static Update(e,t=[],r={},a={}){return this.customSupabaseApiUpdate(`${this.baseUrl}${this.entityUrl}`,e,[...this.parentWithables,...t],r,this.mergeHeaders(a),this)}static Delete(e,t={flags:{},moreHeaders:{}}){return this.customSupabaseApiDelete(`${this.baseUrl}${this.entityUrl}`,e,t.flags,this.mergeHeaders(t.moreHeaders),this)}static signIn(e,t=[],r={},a={}){return this.customSupabaseApiStore(`${this.baseUrl}/api/login`,e,[...this.parentWithables,...t],r,this.mergeHeaders(a),this)}}n(m,"entity","session"),n(m,"entityUrl","/api/session"),n(m,"primaryKey","id"),n(m,"parentWithables",[]);const _=new g.Database;_.register(V);_.register(h);_.register(m);_.register($);const f=q({plugins:[g.install(_)]}),J=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"})),X=[{path:"/",component:()=>l(()=>import("./EmptyLayout.js"),__vite__mapDeps([0,1,2])),meta:{requiresAuth:!1},children:[{path:"/",component:()=>l(()=>import("./MainLayout.js"),__vite__mapDeps([3,1,2])),redirect:s=>"/about",children:[{path:"/login",name:"/login",component:()=>l(()=>import("./SigninView.js"),__vite__mapDeps([4,1,2])),meta:{requiresAuth:!1}},{path:"/register",name:"/register",component:()=>l(()=>import("./JoinView.js"),__vite__mapDeps([5,1,2])),meta:{requiresAuth:!1}},{path:"/about",name:"/about",component:()=>l(()=>import("./AboutController.js"),__vite__mapDeps([6,1,2])),meta:{breadcrumbName:"About",breadcrumbParentName:"",requiresAuth:!1}},{path:"/lists/users",name:"/lists/users",component:()=>l(()=>import("./UserListController.js"),__vite__mapDeps([7,1,2])),meta:{breadcrumbName:"Users",breadcrumbParentName:"",requiresAuth:!1}},{path:"/lists/users/:rId/:rName",name:"/lists/users/:rId/:rName",component:()=>l(()=>import("./UserReadController.js"),__vite__mapDeps([8,1,2])),meta:{breadcrumbName:":rName",breadcrumbParentName:"/lists/users",requiresAuth:!1}}],meta:{requiresAuth:!1}}]},{path:"/:catchAll(.*)*",component:()=>l(()=>import("./ErrorNotFound.js"),__vite__mapDeps([9,1,2])),meta:{requiresAuth:!1}}],y=W(function(){const e=F({scrollBehavior:()=>({left:0,top:0}),routes:X,history:k("/")});return e.beforeEach((t,r,a)=>{const i=R.get("VITE_AUTH");t.matched.some(p=>p.meta.requiresAuth!==!1)&&!(i!=null&&i.user)?a({path:"/login"}):a()}),e});async function Y(s,e){const t=s(G);t.use(B,e);const r=typeof f=="function"?await f({}):f,{storeKey:a}=await l(async()=>{const{storeKey:c}=await Promise.resolve().then(()=>J);return{storeKey:c}},void 0),i=M(typeof y=="function"?await y({store:r}):y);return r.$router=i,{app:t,store:r,storeKey:a,router:i}}const Z={config:{brand:{}}},ee="/";async function te({app:s,router:e,store:t,storeKey:r},a){let i=!1;const c=o=>{try{return e.resolve(o).href}catch{}return Object(o)===o?null:o},p=o=>{if(i=!0,typeof o=="string"&&/^https?:\/\//.test(o)){window.location.href=o;return}const u=c(o);u!==null&&(window.location.href=u,window.location.reload())},b=window.location.href.replace(window.location.origin,"");for(let o=0;i===!1&&o<a.length;o++)try{await a[o]({app:s,router:e,store:t,ssrContext:null,redirect:p,urlPath:b,publicPath:ee})}catch(u){if(u&&u.url){p(u.url);return}console.error("[Quasar] boot error:",u);return}i!==!0&&(s.use(e),s.use(t,r),s.mount("#q-app"))}Y(j,Z).then(s=>{const[e,t]=Promise.allSettled!==void 0?["allSettled",r=>r.map(a=>{if(a.status==="rejected"){console.error("[Quasar] boot error:",a.reason);return}return a.value.default})]:["all",r=>r.map(a=>a.default)];return Promise[e]([l(()=>import("./qcalendar.js"),__vite__mapDeps([10,1,2])),l(()=>import("./store.js"),__vite__mapDeps([11,1,2])),l(()=>import("./vuex-orm-axios.js"),__vite__mapDeps([12,1,2]))]).then(r=>{const a=t(r).filter(i=>typeof i=="function");te(s,a)})});export{m as S,h as U,f as s};
